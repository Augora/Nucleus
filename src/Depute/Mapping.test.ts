import { MapAncienMandat, MapDepute } from './Mapping'

const depute: Types.External.NosDeputesFR.Depute = {
  id: 1,
  nom: 'C\u00e9dric Roussel',
  nom_de_famille: 'Roussel',
  prenom: 'C\u00e9dric',
  sexe: 'H',
  date_naissance: '1972-10-10',
  lieu_naissance: 'Brest (Finist\u00e8re)',
  num_deptmt: '06',
  nom_circo: 'Alpes-Maritimes',
  num_circo: 3,
  mandat_debut: '2017-06-21',
  mandat_fin: '2017-07-21',
  groupe: {
    organisme: 'La R\u00e9publique En Marche',
    fonction: 'membre',
    debut_fonction: '2017-06-28',
  },
  groupe_sigle: 'LREM',
  parti_ratt_financier: 'La R\u00e9publique en Marche',
  responsabilites: [
    {
      responsabilite: {
        organisme: "Commission des affaires culturelles et de l'\u00e9ducation",
        fonction: 'secr\u00e9taire',
        debut_fonction: '2019-10-02',
      },
    },
    {
      responsabilite: {
        organisme:
          "Mission d'\u00e9valuation de la loi n\u00b0 2017-261 du 1er mars 2017 visant \u00e0 pr\u00e9server l'\u00e9thique du sport, \u00e0 renforcer la r\u00e9gulation et la transparence du sport professionnel et \u00e0 am\u00e9liorer la comp\u00e9titivit\u00e9 des clubs",
        fonction: 'co-rapporteur',
        debut_fonction: '2019-11-13',
      },
    },
    {
      responsabilite: {
        organisme:
          "Commission d'enqu\u00eate charg\u00e9e d'\u00e9valuer les recherches, la pr\u00e9vention et les politiques publiques \u00e0 mener contre la propagation des moustiques aedes et des maladies vectorielles",
        fonction: 'membre',
        debut_fonction: '2020-03-12',
      },
    },
    {
      responsabilite: {
        organisme:
          "Commission d'enqu\u00eate pour mesurer et pr\u00e9venir les effets de la crise du covid-19 sur les enfants et la jeunesse",
        fonction: 'membre',
        debut_fonction: '2020-07-21',
      },
    },
    {
      responsabilite: {
        organisme:
          'Groupe de travail sur les jeux olympiques et paralympiques de paris en 2024',
        fonction: 'membre',
        debut_fonction: '2018-06-21',
      },
    },
  ],
  responsabilites_extra_parlementaires: [
    {
      responsabilite: {
        organisme: "Groupe fran\u00e7ais de l'union interparlementaire u.i.p",
        fonction: 'membre',
        debut_fonction: '2017-08-03',
      },
    },
    {
      responsabilite: {
        organisme:
          'Commission d\u00e9partementale des valeurs locatives des locaux professionnels',
        fonction: 'membre titulaire',
        debut_fonction: '2018-06-15',
      },
    },
    {
      responsabilite: {
        organisme:
          'Commission d\u00e9partementale de coop\u00e9ration intercommunale',
        fonction: 'membre titulaire',
        debut_fonction: '2019-03-21',
      },
    },
  ],
  groupes_parlementaires: [
    {
      responsabilite: {
        organisme: "Groupe d'amiti\u00e9 france-russie",
        fonction: 'vice-pr\u00e9sident',
        debut_fonction: '2017-11-04',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'amiti\u00e9 france-cor\u00e9e du sud",
        fonction: 'vice-pr\u00e9sident',
        debut_fonction: '2017-11-17',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'amiti\u00e9 france-italie",
        fonction: 'secr\u00e9taire',
        debut_fonction: '2018-01-15',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'\u00e9tudes \u00c9conomie du sport",
        fonction: 'co-pr\u00e9sident',
        debut_fonction: '2018-02-02',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'\u00e9tudes sport",
        fonction: 'membre',
        debut_fonction: '2018-02-10',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'\u00e9tudes \u00c9conomie maritime",
        fonction: 'secr\u00e9taire',
        debut_fonction: '2018-03-08',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'\u00e9tudes startup, pme et eti",
        fonction: 'secr\u00e9taire',
        debut_fonction: '2018-05-24',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'\u00e9tudes assurances",
        fonction: 'vice-pr\u00e9sident',
        debut_fonction: '2018-03-24',
      },
    },
  ],
  historique_responsabilites: [
    {
      responsabilite: {
        organisme: "Commission des affaires culturelles et de l'\u00e9ducation",
        fonction: 'membre',
        debut_fonction: '2017-06-29',
        fin_fonction: '2019-10-02',
      },
    },
    {
      responsabilite: {
        organisme:
          "Commission sp\u00e9ciale charg\u00e9e d'examiner le projet de loi habilitant le gouvernement \u00e0 prendre par ordonnance les mesures de pr\u00e9paration au retrait du royaume-uni de l'union europ\u00e9enne",
        fonction: 'membre',
        debut_fonction: '2018-11-13',
        fin_fonction: '2019-03-14',
      },
    },
    {
      responsabilite: {
        organisme:
          "Commission sp\u00e9ciale charg\u00e9e d'examiner le projet de loi pour un \u00c9tat au service d'une soci\u00e9t\u00e9 de confiance",
        fonction: 'membre',
        debut_fonction: '2017-12-06',
        fin_fonction: '2018-12-20',
      },
    },
    {
      responsabilite: {
        organisme:
          "Mission d'information sur l'\u00e9cole dans la soci\u00e9t\u00e9 du num\u00e9rique",
        fonction: 'membre',
        debut_fonction: '2017-12-21',
        fin_fonction: '2018-11-15',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'\u00e9tudes startup et pme",
        fonction: 'secr\u00e9taire',
        debut_fonction: '2018-03-24',
        fin_fonction: '2018-05-24',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'\u00e9tudes assurances",
        fonction: 'membre',
        debut_fonction: '2018-03-13',
        fin_fonction: '2018-03-24',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'\u00e9tudes startup et pme",
        fonction: 'membre',
        debut_fonction: '2018-03-08',
        fin_fonction: '2018-03-24',
      },
    },
    {
      responsabilite: {
        organisme: "Groupe d'\u00e9tudes \u00c9conomie maritime",
        fonction: 'membre',
        debut_fonction: '2018-02-20',
        fin_fonction: '2018-03-08',
      },
    },
    {
      responsabilite: {
        organisme: 'D\u00e9put\u00e9s Non Inscrits',
        fonction: 'membre',
        debut_fonction: '2017-06-21',
        fin_fonction: '2017-06-28',
      },
    },
  ],
  sites_web: [
    { site: 'https://fr-fr.facebook.com/CRoussel06/' },
    { site: 'http://cedricroussel.en-marche.fr' },
    { site: 'https://twitter.com/CedricRoussel06' },
    { site: 'https://www.cedricroussel.fr' },
  ],
  emails: [{ email: 'cedric.roussel@assemblee-nationale.fr' }],
  adresses: [
    {
      adresse:
        "Assembl\u00e9e nationale, 126 Rue de l'Universit\u00e9, 75355 Paris 07 SP",
    },
  ],
  collaborateurs: [
    { collaborateur: 'M. Pierre-Laurent Renard' },
    { collaborateur: 'Mme Caroline Puiss\u00e9gur-Ripet' },
    { collaborateur: 'Mme Julie Phan-P\u00e9rain' },
    { collaborateur: 'M. Luc Derai' },
    { collaborateur: 'M. Alexis Chabot' },
  ],
  autres_mandats: [],
  anciens_autres_mandats: [],
  anciens_mandats: [
    { mandat: '21/06/2017 / 21/06/2022 / fin de législature' },
    { mandat: '22/06/2022 / 09/06/2024 / fin de législature' },
  ],
  profession: 'Conseiller en gestion de patrimoine ind\u00e9pendant',
  place_en_hemicycle: '309',
  url_an: 'http://www2.assemblee-nationale.fr/deputes/fiche/OMC_PA718902',
  id_an: '718902',
  slug: 'cedric-roussel',
  url_nosdeputes: 'https://www.nosdeputes.fr/cedric-roussel',
  url_nosdeputes_api: 'https://www.nosdeputes.fr/cedric-roussel/json',
  nb_mandats: 1,
  twitter: 'CedricRoussel06',
}

describe('MapDepute function', () => {
  it('should map the depute and get correct result', async () => {
    const mappedDepute = MapDepute(depute)
    expect(mappedDepute.Slug).toBe('cedric-roussel')
    expect(mappedDepute.SitesWeb.length).toBe(2)
  })
})

describe('MapAncienMandat function', () => {
  it('should map the mandat and get correct result', async () => {
    const mappedAncienMandat = MapAncienMandat(
      '22/06/2022 / 09/06/2024 / fin de législature',
    )
    expect(mappedAncienMandat.AncienMandatComplet).toBe(
      '22/06/2022 / 09/06/2024 / fin de législature',
    )
    expect(mappedAncienMandat.DateDeDebut).toBe('2022-06-22T00:00:00')
    expect(mappedAncienMandat.DateDeFin).toBe('2024-06-09T00:00:00')
    expect(mappedAncienMandat.Intitule).toBe('fin de législature')
  })
})
